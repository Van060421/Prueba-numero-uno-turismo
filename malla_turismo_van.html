<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Malla Interactiva - Turismo</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background-color: #f0fdfc; color: #1d1d1d; margin: 0; padding: 0; }
    header { background: #a7e3dc; color: #083c3a; text-align: center; padding: 1rem; font-size: 1.5rem; }
    .contenedor { display: flex; flex-direction: row; flex-wrap: nowrap; overflow-x: auto; padding: 1rem; gap: 2rem; }
    .a√±o { min-width: 300px; flex-shrink: 0; }
    .a√±o h2 { text-align: center; background: #b4e0f7; padding: 0.5rem; border-radius: 8px; }
    .cuatri { margin: 1rem 0; padding: 1rem; background: #e0f7f4; border-radius: 8px; }
    .cuatri h3 { margin-top: 0; }
    .materia { padding: 0.4rem 0.8rem; margin: 0.3rem 0; border-radius: 6px; background: #d0f0eb; cursor: pointer; transition: 0.2s; }
    .materia:hover { background: #b2e3da; }
    .materia.bloqueada { background: #e0f0ec88; cursor: not-allowed; color: #7a7a7a; }
    .materia.aprobada { background: #90cfbf; text-decoration: line-through; }
    .contador { margin: 1rem; font-weight: bold; text-align: center; }
    button { display: block; margin: 1rem auto; padding: 0.5rem 1rem; font-size: 1rem; background: #4bbf9c; color: white; border: none; border-radius: 6px; cursor: pointer; }
    button:hover { background: #3aa487; }
    @media (max-width: 768px) { .contenedor { flex-direction: column; overflow-x: visible; } }
  </style>
</head>
<body>
  <header>Malla Interactiva - Licenciatura en Turismo</header>
  <div class="contador" id="contador">Materias aprobadas: 0 | Tecnicatura: 0 | Licenciatura: 0</div>
  <button onclick="reiniciar()">Reiniciar Malla</button>
  <div class="contenedor" id="contenedor"></div>
  <script>
    const materias = {
      "Primer A√±o": {
        "1¬∞ Cuatrimestre": [
          "Introducci√≥n al Turismo", "Geograf√≠a tur√≠stica Mundial", "Destinos y Patrimonio Tur√≠stico Mundial",
          "Ingl√©s 1", "Portugu√©s 1", "Regulaci√≥n Jur√≠dica de la Actividad Tur√≠stica", "Inform√°tica 1"
        ],
        "2¬∞ Cuatrimestre": [
          "Introducci√≥n al Turismo 2", "Programaci√≥n de Circuitos", "Geograf√≠a Tur√≠stica Mercosur", 
          "Destinos y Patrimonio Tur√≠stico de Mercosur", "Ingl√©s 2", "Portugu√©s 2", "Trabajo Social Comunitario 1"
        ]
      },
       "Segundo A√±o": {
        "3¬∞ Cuatrimestre": [
          "Geograf√≠a tur√≠stica Argentina", "Destinos y Patrimonio Tur√≠stico de Argentina", "Organizaci√≥n y gesti√≥n de Empresas de Transportes",
          "Ingl√©s 3", "Portugu√©s 3", "Administraci√≥n y gesti√≥n de recursos humanos", "Trabajo Social Comunitario 2"
        ],
        "4¬∞ Cuatrimestre": [
          "Organizaci√≥n y Gesti√≥n de empresas de Alojamiento", "Geograf√≠a tur√≠stica AMBA", "Destinos y Patrimonio Tur√≠stico de AMBA",
          "Planificaci√≥n Tur√≠stica", "Metodolog√≠a de la Investigaci√≥n", "Turismo Sustentable"
        ]
      },
       "Tercer A√±o": {
        "5¬∞ Cuatrimestre": [
          "Geograf√≠a tur√≠stica CABA", "Destinos y Patrimonio Tur√≠stico de CABA", "Organizaci√≥n y gesti√≥n de Empresas de Viajes y Turismo",
          "Gesti√≥n p√∫blica del Turismo", "Taller de Investigaci√≥n e Innovaci√≥n tur√≠stica", "Ingl√©s 4", "Portugu√©s 4"
        ],
        "6¬∞ Cuatrimestre": [
          "Estad√≠stica Tur√≠stica", "Obligaciones y contratos tur√≠sticos", "Inform√°tica Google Eart Pro ‚Äì Sistema Gis ‚Äì Sistema Integrados Guiemaps",
          "Organizaci√≥n y gesti√≥n de destinos tur√≠sticos", "Comunicaci√≥n e innovaci√≥n tecnol√≥gica", "Trabajo Social Comunitario 3"
        ]
      },
       "Cuarto A√±o": {
        "7¬∞ Cuatrimestre": [
          "Gesti√≥n de la Calidad en Turismo", "Marketing tur√≠stico", "Elaboraci√≥n y evaluaci√≥n de proyectos tur√≠sticos ambientales"
        ],
        "8¬∞ Cuatrimestre": [
          "Circuitos e Impacto Ambiental", "Dise√±o de productos potenciales e innovadores", "Trabajo Social Comunitario 4", "Proyecto Final o Tesina"
        ]
      },
       "Optativa": {
         "Turismo Social", "Turismo Rural", "Turismo Accesible", "Turismo Alternativo", "Turismo Educativo", "Turismo Cultural", 
         "Congresos y Cruceros", "Corporativo e Incentivos", "Taller T√©cnicas de Interpretaci√≥n del Patrimonio"
      }
    };
    for (const a√±o in estructura) {
  const esTecnicatura = ["Primer A√±o", "Segundo A√±o", "Tercer A√±o"].includes(a√±o);
  for (const cuatri in estructura[a√±o]) {
    estructura[a√±o][cuatri].forEach(m => {
      if (esTecnicatura) materiasTecnicatura.add(m);
      materiasLicenciatura.add(m);
    });
  }
}
const dependencias = {
  "Introducci√≥n al Turismo 2": ["Introducci√≥n al Turismo 1"],
  "Programaci√≥n de Circuitos": ["Introducci√≥n al Turismo 1"],
  "Geograf√≠a Tur√≠stica Mercosur": ["Geograf√≠a tur√≠stica Mundial"],
  "Destinos y Patrimonio Tur√≠stico de Mercosur": ["Destinos y Patrimonio Tur√≠stico Mundial"],
  "Ingl√©s 2": ["Ingl√©s 1"],
  "Portugu√©s 2": ["Portugu√©s 3"],
  "Geograf√≠a tur√≠stica Argentina": ["Geograf√≠a tur√≠stica Mercosur"],
  "Destinos y Patrimonio Tur√≠stico de Argentina": ["Destinos y Patrimonio Tur√≠stico de Mercosur"],
  "Ingl√©s 3": ["Ingl√©s 2"],
  "Portugu√©s 3": ["Ingl√©s 2"],
  "Trabajo Social Comunitario 2": ["Trabajo Social Comunitario 1"],
  "Geograf√≠a tur√≠stica AMBA": ["Geograf√≠a tur√≠stica Argentina"],
  "Destinos y Patrimonio Tur√≠stico de AMBA": ["Destinos y Patrimonio Tur√≠stico de Argentina"],
  "Geograf√≠a tur√≠stica CABA": ["Geograf√≠a tur√≠stica AMBA"],
  "Destinos y Patrimonio Tur√≠stico de CABA": ["Destinos y Patrimonio Tur√≠stico de AMBA"],
  "Gesti√≥n p√∫blica del Turismo": ["Planificaci√≥n Tur√≠stica"],
  "Taller de Investigaci√≥n e Innovaci√≥n tur√≠stica": ["Metodolog√≠a de la Investigaci√≥n"],
  "Ingl√©s 4": ["Ingl√©s 3"],
  "Portugu√©s 4": ["Portugu√©s 3"],
  "Estad√≠stica Tur√≠stica": ["Metodolog√≠a de la Investigaci√≥n"],
  "Obligaciones y contratos tur√≠sticos": ["Regulaci√≥n Jur√≠dica de la Actividad Tur√≠stica"],
  "Inform√°tica Google Eart Pro ‚Äì Sistema Gis ‚Äì Sistema Integrados Guiemaps": ["Inform√°tica 1"],
  "Organizaci√≥n y gesti√≥n de destinos tur√≠sticos": ["Introducci√≥n al Turismo 2", "Planificaci√≥n Tur√≠stica"], 
  "Trabajo Social Comunitario 3": ["Trabajo Social Comunitario 2"], 
  "Gesti√≥n de la Calidad en Turismo": ["Organizaci√≥n y gesti√≥n de Empresas de Transportes", "Administraci√≥n y gesti√≥n de recursos humanos", "Organizaci√≥n y Gesti√≥n de empresas de Alojamiento", "Gesti√≥n p√∫blica del Turismo"],
  "Marketing tur√≠stico": ["Organizaci√≥n y gesti√≥n de Empresas de Transportes", "Organizaci√≥n y Gesti√≥n de empresas de Alojamiento", "Gesti√≥n p√∫blica del Turismo"], 
  "Elaboraci√≥n y evaluaci√≥n de proyectos tur√≠sticos ambientales": ["Introducci√≥n al Turismo 2", "Taller de Investigaci√≥n e Innovaci√≥n tur√≠stica", "Comunicaci√≥n e innovaci√≥n tecnol√≥gica"], 
  "Circuitos e Impacto Ambiental": ["Elaboraci√≥n y evaluaci√≥n de proyectos tur√≠sticos ambientales"], 
  "Dise√±o de productos potenciales e innovadores": ["Planificaci√≥n Tur√≠stica", "Comunicaci√≥n e innovaci√≥n tecnol√≥gica", "Gesti√≥n de la Calidad en Turismo"], 
  "Trabajo Social Comunitario 4": ["Trabajo Social Comunitario 3"],
  "Proyecto Final o Tesina": ["Metodolog√≠a de la Investigaci√≥n", "Ingl√©s 4"]
  
    const estado = JSON.parse(localStorage.getItem("estadoTurismo") || "{}");

    function guardarEstado() {
  localStorage.setItem("estadoTurismo", JSON.stringify(estados));
}

function crearMalla() {
  const contenedor = document.getElementById("malla-contenedor");
  contenedor.innerHTML = "";

  for (const a√±o in estructura) {
    const divA√±o = document.createElement("div");
    divA√±o.className = "a√±o";
    divA√±o.innerHTML = `<h2>${a√±o}</h2><div class="cuatris"></div>`;
    const cuatrisDiv = divA√±o.querySelector(".cuatris");

    for (const cuatri in estructura[a√±o]) {
      const divCuatri = document.createElement("div");
      divCuatri.className = "cuatri";
      divCuatri.innerHTML = `<h3>${cuatri}</h3>`;
      estructura[a√±o][cuatri].forEach(materia => {
        const divMateria = document.createElement("div");
        divMateria.className = "materia";
        divMateria.id = materia;
        divMateria.textContent = materia;
        if (estados[materia] === "completada") {
  divMateria.classList.add("completada");
} else if (estados[materia] === "pendiente") {
  divMateria.classList.add("pendiente");
}
        }
        divCuatri.appendChild(divMateria);
      });
      cuatrisDiv.appendChild(divCuatri);
    }

    contenedor.appendChild(divA√±o);
  }

  actualizarBloqueadas();
  actualizarContadores();
}

function actualizarBloqueadas() {
  for (const materia in dependencias) {
    const bloqueada = !dependencias[materia].every(m => estados[m] === "completada");
    const el = document.getElementById(materia);
    if (el) {
      if (bloqueada && !estados[materia]) el.classList.add("bloqueada");
      else el.classList.remove("bloqueada");
    }
  }
}
function actualizarContadores() {
  const total = Object.keys(estados).length;
  const aprobadas = Object.values(estados).filter(v => v).length;

  const tecniTotal = [...materiasTecnicatura].length;
  const tecniAprobadas = [...materiasTecnicatura].filter(m => estados[m]).length;

  const licTotal = [...materiasLicenciatura].length;
  const licAprobadas = [...materiasLicenciatura].filter(m => estados[m]).length;

  document.getElementById("contador-materias").innerHTML = `
    üìö Materias Totales: <strong>${total}</strong> |
    ‚úÖ Aprobadas: <strong>${aprobadas}</strong><br>
    üéì Tecnicatura: <strong>${tecniAprobadas}/${tecniTotal}</strong> |
    üéì Licenciatura: <strong>${licAprobadas}/${licTotal}</strong>
  `;

  const barra = document.getElementById("barra-progreso");
  const texto = document.getElementById("texto-progreso");
  barra.style.width = `${porcentaje}%`;
  texto.textContent = `${porcentaje}% completado`;
}

document.addEventListener("click", e => {
  if (!e.target.classList.contains("materia")) return;
  if (e.target.classList.contains("bloqueada")) return;

  const id = e.target.id;
  const estadoActual = estados[id];

  if (estadoActual === "pendiente") {
    estados[id] = "completada";
  } else if (estadoActual === "completada") {
    delete estados[id]; // lo resetea
  } else {
    estados[id] = "pendiente";
  }

  guardarEstado();
  crearMalla();
});
function reiniciarMalla() {
  if (confirm("¬øQuer√©s reiniciar toda la malla? Esto borrar√° tu progreso ü•∫")) {
    localStorage.removeItem("estadoMallaVan");
    location.reload();
  }
}

window.onload = crearMalla;
</script>
</body>
</html>

